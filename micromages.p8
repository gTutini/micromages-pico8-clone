pico-8 cartridge // http://www.pico-8.com
version 18
__lua__
pl = {
	x=1,
	y=1,
	dx=1,
	dy=1,
	spr=0,
	spr_time=0,
	spr_flip=false
}

accel = 0.5

function control()
	if (btn(0) and pl.dx > -1.5) pl.dx -= accel 
 if (btn(1) and pl.dx < 1.5) pl.dx += accel 
 
 if (pl.x < 127 and pl.x > -1) then
 	pl.x+=pl.dx 
 end
 
 if (pl.y < 127	and	pl.y > -1) then
 	pl.y+=pl.dy	
 end
 	 
 if ((not btn(0)) 
 and (not btn(1))) then
 	pl.dx = 0
 end
end

function animate()
	if (btn(0)) pl.spr_flip=true
	if (btn(1)) pl.spr_flip=false

	if(btn(0) or btn(1) or btn(2) or btn(3)) then
		if time() - pl.spr_time > .1 then
			pl.spr+=1
			pl.spr_time=time()
		end
	
		if pl.spr > 6 then
			pl.spr=0
		end
	else
		pl.spr=0
	end
end

function grounded()
 v = mget(flr(pl.x+4)/8, flr(pl.y)/8+1)
 return fget(v, 0)
end

function gravity()
	if grounded() then 
		pl.dy = 0
	end
end


function _update()
	control()
end


function _draw()
	cls()
	spr(pl.spr, pl.x, pl.y,1,1,pl.spr_flip)
	animate()
end
__gfx__
00000000001111101000000000111110000000000001111001111110000000000000000000000000000000000000000000000000000000000000000000000000
00111110011100011111110001110001111111100011000111110001000000000000000000000000000000000000000000000000000000000000000000000000
01100001111090910110001011109091111100010110909111100001000000000000000000000000000000000000000000000000000000000000000000000000
11109090001000010119091010100001011090910110000101009091000000000000000000000000000000000000000000000000000000000000000000000000
10100000011100100010001000010010001000010101001000100000000000000000000000000000000000000000000000000000000000000000000000000000
00710010117111070111010000171107001100100011111101710017000000000000000000000000000000000000000000000000000000000000000000000000
01011107010010101771100700101100017711070071111701011110000000000000000000000000000000000000000000000000000000000000000000000000
00111110000101000010011000001100000100100001101000011010000000000000000000000000000000000000000000000000000000000000000000000000
00000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
00000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
00000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
00000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
00000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
00000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
00000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
00000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
33333333333333330000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
33333333333333330000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
33333334434333340000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
44333333334443330000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
43334433434444330000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
44334444334444340000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
44334444344444340000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
44433444333443440000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
44434444433443440000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
44334444334443440000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
44344444334443440000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
44433444434443440000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
44444444434444440000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
44444444444444440000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
44444444444444440000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
44444444444444440000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
__gff__
0000000000000000000000000000000000000000000000000000000000000000010100000000000000000000000000000101000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
0000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
__map__
2021202120212021202120210000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
3031303130313031303130310000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
